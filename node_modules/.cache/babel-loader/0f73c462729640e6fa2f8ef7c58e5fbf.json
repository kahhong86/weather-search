{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/weather-search/src/App.js\";\nimport React, { useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst form = document.querySelector(\"form\");\nconst inputCity = document.querySelector('#city');\nconst inputCountry = document.querySelector('#country');\nconst history = document.querySelector(\".history ol\");\nconst msg = document.querySelector(\".message\");\nconst today = document.querySelector(\".today-weather\");\nconst reset = document.getElementById(\"reset\");\nconst toggle = document.querySelector(\".magnifier\");\nform.addEventListener(\"submit\", e => {\n  e.preventDefault();\n  let inputCityVal = inputCity.value;\n  let inputCountryVal = inputCountry.value;\n  const url = `https://api.openweathermap.org/data/2.5/weather?q=${inputCityVal},${inputCountryVal}&appid=22dc15f16b68c17e6adeaca94240569a`;\n  fetch(url).then(response => response.json()).then(data => {\n    // console.log(data);\n    const {\n      weather,\n      main\n    } = data;\n    const li = document.createElement(\"li\");\n    const todayMarkup = `\n          \t<span class=\"input-value\">${inputCityVal},${inputCountryVal}</span>\n           \t<div class=\"result\">\n             \t<span class=\"weather\">${weather[0][\"main\"]}</span>\n             \t<span class=\"desc\"><span class=\"label\">Description: </span> ${weather[0][\"description\"]}</span>\n             \t<span class=\"temp\"><span class=\"label\">Temperature: </span> ${main.temp_min} ~ ${main.temp_max}</span>\n             \t<span class=\"humid\"><span class=\"label\">Humidity: </span> ${main.humidity}</span>\n             \t<span class=\"time\"><span class=\"label\">Time: </span> ${new Date().toLocaleTimeString()}</span>      \n           \t</div>\n      \t`;\n    const historyMarkup = `\n        \t<div class=\"control\">\n\t          \t<span class=\"time\">${new Date().toLocaleTimeString()}</span>\n          \t\t<a href=\"#\" class=\"magnifier\" onClick={handleClick}>Open</a>\n\t          \t<a href=\"#\" class=\"remove\">Delete</a>\n        \t</div>\n      \t`;\n    li.innerHTML = '<div class=\"history-item\">' + historyMarkup + todayMarkup + '</div>';\n    today.innerHTML = todayMarkup;\n    history.appendChild(li);\n    msg.innerHTML = \"\";\n  }).catch(err => {\n    msg.innerHTML = '<p>Wrong value input. Please key in the correct information.</p>'; // console.log(err);\n  }); // form.reset();\n});\nreset.addEventListener(\"click\", () => {\n  history.innerHTML = \"\";\n  today.innerHTML = \"\";\n});\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isToggleOn: true\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    this.setState(prevState => ({\n      isToggleOn: !prevState.isToggleOn\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: this.handleClick,\n      children: this.state.isToggleOn ? 'ON' : 'OFF'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/weather-search/src/App.js"],"names":["React","useState","form","document","querySelector","inputCity","inputCountry","history","msg","today","reset","getElementById","toggle","addEventListener","e","preventDefault","inputCityVal","value","inputCountryVal","url","fetch","then","response","json","data","weather","main","li","createElement","todayMarkup","temp_min","temp_max","humidity","Date","toLocaleTimeString","historyMarkup","innerHTML","appendChild","catch","err","Search","Component","constructor","props","state","isToggleOn","handleClick","bind","setState","prevState","render"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nconst form = document.querySelector(\"form\");\nconst inputCity = document.querySelector('#city');\nconst inputCountry = document.querySelector('#country');\nconst history = document.querySelector(\".history ol\");\nconst msg = document.querySelector(\".message\");\nconst today = document.querySelector(\".today-weather\");\nconst reset = document.getElementById(\"reset\");\nconst toggle = document.querySelector(\".magnifier\");\n\nform.addEventListener(\"submit\", e => {\n\te.preventDefault();\n\tlet inputCityVal = inputCity.value;\n\tlet inputCountryVal = inputCountry.value;\n\n\tconst url = `https://api.openweathermap.org/data/2.5/weather?q=${inputCityVal},${inputCountryVal}&appid=22dc15f16b68c17e6adeaca94240569a`;\n\n  \tfetch(url)\n    .then(response => response.json())\n    .then(data => {\n\t\t// console.log(data);\n\t\tconst { weather, main } = data;\n\t\tconst li = document.createElement(\"li\");\n\t\tconst todayMarkup = `\n          \t<span class=\"input-value\">${inputCityVal},${inputCountryVal}</span>\n           \t<div class=\"result\">\n             \t<span class=\"weather\">${weather[0][\"main\"]}</span>\n             \t<span class=\"desc\"><span class=\"label\">Description: </span> ${weather[0][\"description\"]}</span>\n             \t<span class=\"temp\"><span class=\"label\">Temperature: </span> ${main.temp_min} ~ ${main.temp_max}</span>\n             \t<span class=\"humid\"><span class=\"label\">Humidity: </span> ${main.humidity}</span>\n             \t<span class=\"time\"><span class=\"label\">Time: </span> ${new Date().toLocaleTimeString()}</span>      \n           \t</div>\n      \t`;\n      \tconst historyMarkup = `\n        \t<div class=\"control\">\n\t          \t<span class=\"time\">${new Date().toLocaleTimeString()}</span>\n          \t\t<a href=\"#\" class=\"magnifier\" onClick={handleClick}>Open</a>\n\t          \t<a href=\"#\" class=\"remove\">Delete</a>\n        \t</div>\n      \t`;\n\t\tli.innerHTML = '<div class=\"history-item\">' + historyMarkup + todayMarkup + '</div>';\n\t\ttoday.innerHTML = todayMarkup;\n\t\thistory.appendChild(li);\n\t\tmsg.innerHTML = \"\";\n    })\n    .catch((err) => {\n      msg.innerHTML = '<p>Wrong value input. Please key in the correct information.</p>';\n      // console.log(err);\n\t});\n  \t// form.reset();\n});\n\nreset.addEventListener(\"click\",() => {\n\thistory.innerHTML = \"\";\n\ttoday.innerHTML = \"\";\n})\n\n\n\nclass Search extends React.Component {\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {isToggleOn: true};\n\t    this.handleClick = this.handleClick.bind(this);\n\t}\n\n\thandleClick() {\n\t    this.setState(prevState => ({\n\t      isToggleOn: !prevState.isToggleOn\n\t    }));\n\t  }\n\n\trender(){\n\t\treturn(\n\t\t\t<button onClick={this.handleClick}>\n\t\t\t\t{this.state.isToggleOn ? 'ON' : 'OFF'}\n\t\t\t\t</button>\n\t\t)\n\t}\n}\n\n\n\n\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}