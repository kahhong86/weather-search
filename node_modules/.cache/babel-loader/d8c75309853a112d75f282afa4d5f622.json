{"ast":null,"code":"import logo from \"./logo.svg\";\nimport './App.css';\n\nconst Search = props => {\n  var _s = $RefreshSig$();\n\n  const form = document.querySelector(\"form\");\n  const inputCity = document.querySelector('#city');\n  const inputCountry = document.querySelector('#country');\n  const history = document.querySelector(\".history ol\");\n  const msg = document.querySelector(\".message\");\n  const today = document.querySelector(\".today-weather\");\n  const reset = document.getElementById(\"reset\");\n  const toggle = document.querySelector(\".magnifier\");\n\n  function handleClick() {\n    console.log('duck');\n  }\n\n  form.addEventListener(\"submit\", _s(e => {\n    _s();\n\n    e.preventDefault();\n    let inputCityVal = inputCity.value;\n    let inputCountryVal = inputCountry.value;\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${inputCityVal},${inputCountryVal}&appid=22dc15f16b68c17e6adeaca94240569a`;\n    const [count, setCount] = useState(0);\n    fetch(url).then(response => response.json()).then(data => {\n      // console.log(data);\n      const {\n        weather,\n        main\n      } = data;\n      const li = document.createElement(\"li\");\n      const todayMarkup = `\n\t\t          \t<span class=\"input-value\">${inputCityVal},${inputCountryVal}</span>\n\t\t           \t<div class=\"result\">\n\t\t             \t<span class=\"weather\">${weather[0][\"main\"]}</span>\n\t\t             \t<span class=\"desc\"><span class=\"label\">Description: </span> ${weather[0][\"description\"]}</span>\n\t\t             \t<span class=\"temp\"><span class=\"label\">Temperature: </span> ${main.temp_min} ~ ${main.temp_max}</span>\n\t\t             \t<span class=\"humid\"><span class=\"label\">Humidity: </span> ${main.humidity}</span>\n\t\t             \t<span class=\"time\"><span class=\"label\">Time: </span> ${new Date().toLocaleTimeString()}</span>      \n\t\t           \t</div>\n\t\t      \t`;\n      const historyMarkup = `\n\t\t        \t<div class=\"control\">\n\t\t\t          \t<span class=\"time\">${new Date().toLocaleTimeString()}</span>\n\t\t\t          \t<a href=\"#\" class=\"magnifier\" onClick={() => setCount(count + 1)}>Open</a>\n\t\t\t          \t<a href=\"#\" class=\"remove\">Remove</a>\n\t\t        \t</div>\n\t\t      \t`;\n      li.innerHTML = '<div class=\"history-item\">' + todayMarkup + historyMarkup + '</div>';\n      today.innerHTML = todayMarkup;\n      history.appendChild(li);\n      msg.innerHTML = \"\";\n    }).catch(err => {\n      msg.innerHTML = 'Wrong value input. Please key in the correct information.'; // console.log(err);\n    }); // form.reset();\n  }, \"oDgYfYHkD9Wkv4hrAPCkI/ev3YU=\"));\n  reset.addEventListener(\"click\", () => {\n    history.innerHTML = \"\";\n    today.innerHTML = \"\";\n  });\n  return null;\n};\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["/Applications/MAMP/htdocs/weather-search/src/App.js"],"names":["Search","props","form","document","querySelector","inputCity","inputCountry","history","msg","today","reset","getElementById","toggle","handleClick","console","log","addEventListener","e","preventDefault","inputCityVal","value","inputCountryVal","url","count","setCount","useState","fetch","then","response","json","data","weather","main","li","createElement","todayMarkup","temp_min","temp_max","humidity","Date","toLocaleTimeString","historyMarkup","innerHTML","appendChild","catch","err"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\n\nconst Search = (props) => {\n\tconst form = document.querySelector(\"form\");\n\tconst inputCity = document.querySelector('#city');\n\tconst inputCountry = document.querySelector('#country');\n\tconst history = document.querySelector(\".history ol\");\n\tconst msg = document.querySelector(\".message\");\n\tconst today = document.querySelector(\".today-weather\");\n\tconst reset = document.getElementById(\"reset\");\n\tconst toggle = document.querySelector(\".magnifier\");\n\n\tfunction handleClick (){\n\t\tconsole.log('duck')\n\t}\n\n\n\n\tform.addEventListener(\"submit\", e => {\n\t\te.preventDefault();\n\t\tlet inputCityVal = inputCity.value;\n\t\tlet inputCountryVal = inputCountry.value;\n\n\t\tconst url = `https://api.openweathermap.org/data/2.5/weather?q=${inputCityVal},${inputCountryVal}&appid=22dc15f16b68c17e6adeaca94240569a`;\n\t\tconst [count, setCount] = useState(0);\n\t\t\n\t  \tfetch(url)\n\t\t    .then(response => response.json())\n\t\t    .then(data => {\n\t\t\t\t// console.log(data);\n\t\t\t\tconst { weather, main } = data;\n\t\t\t\tconst li = document.createElement(\"li\");\n\t\t\t\tconst todayMarkup = `\n\t\t          \t<span class=\"input-value\">${inputCityVal},${inputCountryVal}</span>\n\t\t           \t<div class=\"result\">\n\t\t             \t<span class=\"weather\">${weather[0][\"main\"]}</span>\n\t\t             \t<span class=\"desc\"><span class=\"label\">Description: </span> ${weather[0][\"description\"]}</span>\n\t\t             \t<span class=\"temp\"><span class=\"label\">Temperature: </span> ${main.temp_min} ~ ${main.temp_max}</span>\n\t\t             \t<span class=\"humid\"><span class=\"label\">Humidity: </span> ${main.humidity}</span>\n\t\t             \t<span class=\"time\"><span class=\"label\">Time: </span> ${new Date().toLocaleTimeString()}</span>      \n\t\t           \t</div>\n\t\t      \t`;\n\t\t      \tconst historyMarkup = `\n\t\t        \t<div class=\"control\">\n\t\t\t          \t<span class=\"time\">${new Date().toLocaleTimeString()}</span>\n\t\t\t          \t<a href=\"#\" class=\"magnifier\" onClick={() => setCount(count + 1)}>Open</a>\n\t\t\t          \t<a href=\"#\" class=\"remove\">Remove</a>\n\t\t        \t</div>\n\t\t      \t`;\n\t\t\t\tli.innerHTML = '<div class=\"history-item\">' + todayMarkup + historyMarkup + '</div>';\n\t\t\t\ttoday.innerHTML = todayMarkup;\n\t\t\t\thistory.appendChild(li);\n\t\t\t\tmsg.innerHTML = \"\";\n\t\t    })\n\t\t    .catch((err) => {\n\t\t      msg.innerHTML = 'Wrong value input. Please key in the correct information.';\n\t\t      // console.log(err);\n\t    \t});\n\t  \t// form.reset();\n\t\t});\n\n\t\n\n\treset.addEventListener(\"click\",() => {\n\t  history.innerHTML = \"\";\n\t  today.innerHTML = \"\";\n\t})\n\n\treturn null;\n}\n\n\n\n\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}